<link rel="stylesheet" href="/css/main.css"><div class="ocamldoc"><pre>sig

&nbsp;&nbsp;type&nbsp;_&nbsp;t&nbsp;=&nbsp;..
&nbsp;&nbsp;exception&nbsp;Unhandled&nbsp;:&nbsp;'a&nbsp;Effect.t&nbsp;-&gt;&nbsp;exn
&nbsp;&nbsp;exception&nbsp;Continuation_already_resumed
&nbsp;&nbsp;external&nbsp;perform&nbsp;:&nbsp;'a&nbsp;Effect.t&nbsp;-&gt;&nbsp;'a&nbsp;=&nbsp;"%perform"
&nbsp;&nbsp;module&nbsp;Deep&nbsp;:
&nbsp;&nbsp;&nbsp;&nbsp;sig
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;('a,&nbsp;'b)&nbsp;continuation
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;val&nbsp;continue&nbsp;:&nbsp;('a,&nbsp;'b)&nbsp;Effect.Deep.continuation&nbsp;-&gt;&nbsp;'a&nbsp;-&gt;&nbsp;'b
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;val&nbsp;discontinue&nbsp;:&nbsp;('a,&nbsp;'b)&nbsp;Effect.Deep.continuation&nbsp;-&gt;&nbsp;exn&nbsp;-&gt;&nbsp;'b
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;val&nbsp;discontinue_with_backtrace&nbsp;:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;('a,&nbsp;'b)&nbsp;Effect.Deep.continuation&nbsp;-&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exn&nbsp;-&gt;&nbsp;Stdlib.Printexc.raw_backtrace&nbsp;-&gt;&nbsp;'b
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;('a,&nbsp;'b)&nbsp;handler&nbsp;=&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;retc&nbsp;:&nbsp;'a&nbsp;-&gt;&nbsp;'b;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exnc&nbsp;:&nbsp;exn&nbsp;-&gt;&nbsp;'b;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effc&nbsp;:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'c.&nbsp;'c&nbsp;Effect.t&nbsp;-&gt;&nbsp;(('c,&nbsp;'b)&nbsp;Effect.Deep.continuation&nbsp;-&gt;&nbsp;'b)&nbsp;option;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;val&nbsp;match_with&nbsp;:&nbsp;('c&nbsp;-&gt;&nbsp;'a)&nbsp;-&gt;&nbsp;'c&nbsp;-&gt;&nbsp;('a,&nbsp;'b)&nbsp;Effect.Deep.handler&nbsp;-&gt;&nbsp;'b
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;'a&nbsp;effect_handler&nbsp;=&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effc&nbsp;:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'b.&nbsp;'b&nbsp;Effect.t&nbsp;-&gt;&nbsp;(('b,&nbsp;'a)&nbsp;Effect.Deep.continuation&nbsp;-&gt;&nbsp;'a)&nbsp;option;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;val&nbsp;try_with&nbsp;:&nbsp;('b&nbsp;-&gt;&nbsp;'a)&nbsp;-&gt;&nbsp;'b&nbsp;-&gt;&nbsp;'a&nbsp;Effect.Deep.effect_handler&nbsp;-&gt;&nbsp;'a
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;external&nbsp;get_callstack&nbsp;:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;('a,&nbsp;'b)&nbsp;Effect.Deep.continuation&nbsp;-&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;-&gt;&nbsp;Stdlib.Printexc.raw_backtrace
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;"caml_get_continuation_callstack"
&nbsp;&nbsp;&nbsp;&nbsp;end
&nbsp;&nbsp;module&nbsp;Shallow&nbsp;:
&nbsp;&nbsp;&nbsp;&nbsp;sig
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;('a,&nbsp;'b)&nbsp;continuation
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;val&nbsp;fiber&nbsp;:&nbsp;('a&nbsp;-&gt;&nbsp;'b)&nbsp;-&gt;&nbsp;('a,&nbsp;'b)&nbsp;Effect.Shallow.continuation
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;('a,&nbsp;'b)&nbsp;handler&nbsp;=&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;retc&nbsp;:&nbsp;'a&nbsp;-&gt;&nbsp;'b;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exnc&nbsp;:&nbsp;exn&nbsp;-&gt;&nbsp;'b;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effc&nbsp;:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'c.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'c&nbsp;Effect.t&nbsp;-&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(('c,&nbsp;'a)&nbsp;Effect.Shallow.continuation&nbsp;-&gt;&nbsp;'b)&nbsp;option;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;val&nbsp;continue_with&nbsp;:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;('c,&nbsp;'a)&nbsp;Effect.Shallow.continuation&nbsp;-&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'c&nbsp;-&gt;&nbsp;('a,&nbsp;'b)&nbsp;Effect.Shallow.handler&nbsp;-&gt;&nbsp;'b
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;val&nbsp;discontinue_with&nbsp;:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;('c,&nbsp;'a)&nbsp;Effect.Shallow.continuation&nbsp;-&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exn&nbsp;-&gt;&nbsp;('a,&nbsp;'b)&nbsp;Effect.Shallow.handler&nbsp;-&gt;&nbsp;'b
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;val&nbsp;discontinue_with_backtrace&nbsp;:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;('a,&nbsp;'b)&nbsp;Effect.Shallow.continuation&nbsp;-&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exn&nbsp;-&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stdlib.Printexc.raw_backtrace&nbsp;-&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;('b,&nbsp;'c)&nbsp;Effect.Shallow.handler&nbsp;-&gt;&nbsp;'c
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;external&nbsp;get_callstack&nbsp;:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;('a,&nbsp;'b)&nbsp;Effect.Shallow.continuation&nbsp;-&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;-&gt;&nbsp;Stdlib.Printexc.raw_backtrace
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;"caml_get_continuation_callstack"
&nbsp;&nbsp;&nbsp;&nbsp;end
end</pre></div>